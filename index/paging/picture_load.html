<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>图片延迟加载</title>
<style>
* { margin:0; padding:0; }
ul { overflow:hidden; width:1000px; margin:0 auto;}
li { float:left; width:300px; height:300px; border:1px solid red; list-style:none; margin:10px; }
img { display:block; width:100%; }
</style>
<script>
window.onload=window.onscroll=window.onresize=function (){
	var aImg=document.getElementsByTagName('img');
	var scrollTop=document.documentElement.scrollTop || document.body.scrollTop;
	var clientBottom=document.documentElement.clientHeight+scrollTop;
	
	for (var i=0; i<aImg.length; i++)
	{
		if (aImg[i].offsetTop < clientBottom)
		{
			// aImg[i] 在可视区内
			var src=aImg[i].getAttribute('_src');
			aImg[i].src=src;
		}
	}
};
</script>
</head>

<body>
	<ul>
		<li>
			<img _src="../images/delayed_load/1.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/2.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/3.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/4.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/5.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/6.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/7.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/8.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/9.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/10.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/11.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/12.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/13.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/14.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/15.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/16.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/17.jpg" />
		</li>
		<li>
			<img _src="../images/delayed_load/18.jpg" />
		</li>
	</ul>
</body>
</html>














